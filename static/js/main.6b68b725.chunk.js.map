{"version":3,"sources":["App.js","index.js","logo.svg"],"names":["App","react_default","a","createElement","className","src","logo","alt","draggable","Component","ReactDOM","render","src_App_0","document","getElementById","navigator","window","addEventListener","Promise","resolve","reject","permissionPromise","Notification","requestPermission","result","then","serviceWorker","register","registration","console","log","catch","err","showNotification","body","vibrate","icon","badge","e","data","timeEnd","setTimeout","fetch","response","json","myJson","newDiv","style","textAlign","margin","newContent","createTextNode","concat","login","appendChild","module","exports","__webpack_require__","p"],"mappings":"yOAgBeA,0LAVX,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,OAAKE,IAAKC,IAAMF,UAAU,WAAWG,IAAI,OAAOC,UAAU,mBALlDC,cCClBC,IAASC,OAAOV,EAAAC,EAAAC,cAACS,EAAD,MAASC,SAASC,eAAe,SAE7C,kBAAmBC,WACrBC,OAAOC,iBAAiB,OAAQ,WAC9B,IAAIC,QAAQ,SAACC,EAASC,GACpB,IAAMC,EAAoBC,aAAaC,kBAAkB,SAAAC,GACvDL,EAAQK,KAGNH,GACFA,EAAkBI,KAAKN,KAGxBM,KAAK,SAAAD,GACW,YAAXA,EA2CHT,UAAUW,cAAcC,SAAS,UACrCF,KAAK,SAAAG,GAIJ,OAHAC,QAAQC,IAAI,oBAGLF,IAERG,MAAM,SAAAC,GACLH,QAAQC,IAAI,OAAQE,KAKAP,KAAK,SAAAG,GAC3BA,EAAaK,iBAAiB,2EAAgB,CAC5CC,KAAM,6CACNC,QAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,KACnCC,KAAM,WACNC,MAAO,eAzDHR,QAAQC,IAAI,mBAGlBf,UAAUW,cAAcT,iBAAiB,UAAW,SAAAqB,GACnC,SAAXA,EAAEC,MACJV,QAAQW,cAMhBC,WAAW,WACTC,MAAM,2CACHjB,KAAK,SAAUkB,GACd,OAAOA,EAASC,SAEjBnB,KAAK,SAAUoB,GACd,IAAMC,EAASjC,SAASV,cAAc,OACtC2C,EAAOC,MAAMC,UAAY,SACzBF,EAAOC,MAAME,OAAS,YACtB,IAAMC,EAAarC,SAASsC,eAAT,gBAAAC,OAAwCP,EAAOQ,QAClEP,EAAOQ,YAAYJ,GACnBrC,SAASqB,KAAKoB,YAAYR,MAE7B,wBC/CHS,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.6b68b725.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" draggable=\"false\" />\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    new Promise((resolve, reject) => {\n      const permissionPromise = Notification.requestPermission(result => {\n        resolve(result);\n      });\n\n      if (permissionPromise) {\n        permissionPromise.then(resolve);\n      }\n    })\n      .then(result => {\n        if (result === 'granted') {\n          execute();\n        }\n        else {\n          console.log('no permission');\n        }\n      });\n    navigator.serviceWorker.addEventListener('message', e => {\n      if (e.data === 'down') {\n        console.timeEnd();\n      }\n    });\n  });\n}\n\nsetTimeout(() => {\n  fetch('https://api.github.com/users/wangbayang')\n    .then(function (response) {\n      return response.json();\n    })\n    .then(function (myJson) {\n      const newDiv = document.createElement(\"div\");\n      newDiv.style.textAlign = 'center';\n      newDiv.style.margin = '50px auto';\n      const newContent = document.createTextNode(`github name: ${myJson.login}`);\n      newDiv.appendChild(newContent);\n      document.body.appendChild(newDiv);\n    });\n}, 2000);\n\n// setTimeout(() => {\n//   console.time();\n//   // navigator.serviceWorker.controller.postMessage('start test performance');\n//   for(let i = 0; i < 5000; i++) {\n//     console.log('test')\n//   }\n//   for(let i = 0; i < 5000; i++) {\n//     console.log('test')\n//   }\n//   console.timeEnd();\n// }, 4000);\n\nfunction registerServiceWorker() {\n  return navigator.serviceWorker.register('/sw.js')\n    .then(registration => {\n      console.log('register success');\n      // 判断当前客户端是否受控制\n      // console.log(navigator.serviceWorker.controller)\n      return registration;\n    })\n    .catch(err => {\n      console.log('fail', err)\n    });\n}\n\nfunction execute() {\n  registerServiceWorker().then(registration => {\n    registration.showNotification('乔布斯向您发送了一条消息', {\n      body: '今晚几点有空？',\n      vibrate: [500, 110, 500, 110, 500, 110],\n      icon: '/vue.png',\n      badge: '/vue.png'\n    });\n  });\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}